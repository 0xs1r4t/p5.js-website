<!DOCTYPE html><html><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><link href=/_astro/_slug_.C79K3bky.css rel=stylesheet /></head><body><nav><ul><a href=/ >Home</a> <a href=/reference>Reference</a> <a href=/tutorials>Tutorials</a> <a href=/examples>Examples</a> <a href=/community>Community</a> <a href=/about>About</a> <a href=/contribute>Contribute</a></ul></nav><div class="flex space-x-2"><select id=locale-select><option value=/examples//sound-soundformats/ selected=true>English</option><option value=/ar/examples//sound-soundformats/ >العربية</option><option value=/es/examples//sound-soundformats/ >español</option><option value=/hi/examples//sound-soundformats/ >हिन्दी</option><option value=/ko/examples//sound-soundformats/ >한국어</option><option value=/pt-br/examples//sound-soundformats/ >português (Brasil)</option><option value=/sk/examples//sound-soundformats/ >slovenčina</option><option value=/zh/examples//sound-soundformats/ >中文</option></select><script>document.getElementById("locale-select")?.addEventListener("change",(function(){window.location.href=this.value}))</script><div><form action=/search method=GET role=search><label for=search-term>Search</label> <input aria-label="Search through site content" class="border border-black" id=search-term name=term required type=search> <button type=submit>Search</button></form></div><div>Language: en</div><div>Accessibility</div></div><h1 class="font-bold text-lg">soundFormats</h1><span></span><main><p>On page load, a green screen plays music. When the user clicks on it, the screen turns red and stops playing music</p><p>Technically, due to patent issues, there is no single sound format that is supported by all web browsers. While <a href="http://caniuse.com/#feat=mp3">mp3 is supported</a> across the latest versions of major browsers on OS X and Windows, for example, it may not be available on some less mainstream operating systems and browsers.</p><p></p><p>To ensure full compatibility, you can include the same sound file in multiple formats, e.g. ‘sound.mp3’ and ‘sound.ogg’. (Ogg is an open source alternative to mp3.) You can convert audio files into web friendly formats for free online at <a href=http://media.io/ >media.io</a></p>.<p></p><p>The soundFormats() method tells loadSound which formats we have included with our sketch. Then, loadSound will attempt to load the first format that is supported by the client’s web browser.</p><p><em><span class=small>To run this example locally, you will need the <a href=http://p5js.org/reference/#/libraries/p5.sound>p5.sound library</a> a sound file, and a running <a href=https://github.com/processing/p5.js/wiki/Local-server>local server</a>.</span></em></p><pre>
let song;

function preload() {
  // we have included both an .ogg file and an .mp3 file
  soundFormats(&#39;ogg&#39;, &#39;mp3&#39;);

  // if mp3 is not supported by this browser,
  // loadSound will load the ogg file
  // we have included with our sketch
  song = loadSound(&#39;assets/lucky_dragons_-_power_melody.mp3&#39;);
}

function setup() {
  createCanvas(710, 200);

  // song loaded during preload(), ready to play in setup()
  song.play();
  background(0, 255, 0);
}

function mousePressed() {
  if (song.isPlaying()) {
    // .isPlaying() returns a boolean
    song.pause();
    background(255, 0, 0);
  } else {
    song.play(); // playback will resume from the pause position
    background(0, 255, 0);
  }
}
</pre></main><div>p5.js site footer goes here</div></body></html>