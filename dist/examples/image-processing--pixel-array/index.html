<!DOCTYPE html><html><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><link href=/_astro/_slug_.C79K3bky.css rel=stylesheet /></head><body><nav><ul><a href=/ >Home</a> <a href=/reference>Reference</a> <a href=/tutorials>Tutorials</a> <a href=/examples>Examples</a> <a href=/community>Community</a> <a href=/about>About</a> <a href=/contribute>Contribute</a></ul></nav><div class="flex space-x-2"><select id=locale-select><option value=/examples//image-processing--pixel-array/ selected=true>English</option><option value=/ar/examples//image-processing--pixel-array/ >العربية</option><option value=/es/examples//image-processing--pixel-array/ >español</option><option value=/hi/examples//image-processing--pixel-array/ >हिन्दी</option><option value=/ko/examples//image-processing--pixel-array/ >한국어</option><option value=/pt-br/examples//image-processing--pixel-array/ >português (Brasil)</option><option value=/sk/examples//image-processing--pixel-array/ >slovenčina</option><option value=/zh/examples//image-processing--pixel-array/ >中文</option></select><script>document.getElementById("locale-select")?.addEventListener("change",(function(){window.location.href=this.value}))</script><div><form action=/search method=GET role=search><label for=search-term>Search</label> <input aria-label="Search through site content" class="border border-black" id=search-term name=term required type=search> <button type=submit>Search</button></form></div><div>Language: en</div><div>Accessibility</div></div><h1 class="font-bold text-lg">Pixel Array</h1><span></span><main><p>A rectangle that changes hues as you move the mouse</p><p>Click and drag the mouse up and down to control the signal and press and hold any key to see the current pixel being read. This program sequentially reads the color of every pixel of an image and displays this color to fill the window.</p><pre>

let img;
let direction = 1;
let signal = 0;

function setup() {
  createCanvas(640, 360);
  noFill();
  stroke(255);
  frameRate(30);
  img = loadImage(&#39;assets/sea.jpg&#39;);
}

function draw() {
  if (signal &gt; img.width * img.height - 1 || signal &lt; 0) {
    direction = direction * -1;
  }

  if (mouseIsPressed) {
    let mx = constrain(mouseX, 0, img.width - 1);
    let my = constrain(mouseY, 0, img.height - 1);
    signal = my * img.width + mx;
  } else {
    signal += 0.33 * direction;
  }

  let sx = int(signal) % img.width;
  let sy = int(signal) / img.width;
  if (keyIsPressed) {
    set(0, 0, img); // fast way to draw an image
    point(sx, sy);
    rect(sx - 5, sy - 5, 10, 10);
  } else {
    let c = img.get(sx, sy);
    background(c);
  }
}</pre></main><div>p5.js site footer goes here</div></body></html>