---
title: loadShader
module: 3D
submodule: Material
file: src/webgl/material.js
description: >
  <p>Loads vertex and fragment shaders to create a

  <a href="/reference/p5/p5.Shader">p5.Shader</a> object.</p>

  <p>Shaders are programs that run on the graphics processing unit (GPU). They

  can process many pixels at the same time, making them fast for many

  graphics tasks. Theyâ€™re written in a language called

  <a
  href="https://developer.mozilla.org/en-US/docs/Games/Techniques/3D_on_the_web/GLSL_Shaders/"
  target="_blank">GLSL</a>

  and run along with the rest of the code in a sketch.</p>

  <p>Once the <a href="/reference/p5/p5.Shader">p5.Shader</a> object is created,
  it can be

  used with the <a href="/reference/p5/shader/">shader()</a> function, as in

  <code>shader(myShader)</code>. A shader program consists of two files, a
  vertex shader

  and a fragment shader. The vertex shader affects where 3D geometry is drawn

  on the screen and the fragment shader affects color.</p>

  <p><code>loadShader()</code> loads the vertex and fragment shaders from their
  <code>.vert</code> and

  <code>.frag</code> files. For example, calling

  <code>loadShader('/assets/shader.vert', '/assets/shader.frag')</code> loads
  both

  required shaders and returns a <a href="/reference/p5/p5.Shader">p5.Shader</a>
  object.</p>

  <p>The third parameter, <code>successCallback</code>, is optional. If a
  function is

  passed, it will be called once the shader has loaded. The callback function

  can use the new <a href="/reference/p5/p5.Shader">p5.Shader</a> object as its

  parameter. The return value of the <code>successCallback()</code> function
  will be used

  as the final return value of <code>loadShader()</code>.</p>

  <p>The fourth parameter, <code>failureCallback</code>, is also optional. If a
  function is

  passed, it will be called if the shader fails to load. The callback

  function can use the event error as its parameter. The return value of the
  <code>

  failureCallback()</code> function will be used as the final return value of
  <code>loadShader()</code>.</p>

  <p>This function returns a <code>Promise</code> and should be used in an
  <code>async</code> setup with

  <code>await</code>. See the examples for the usage syntax.</p>

  <p>Note: Shaders can only be used in WebGL mode.</p>
line: 122
isConstructor: false
itemtype: method
example:
  - |-
    <div modernizr='webgl'>
    <code>
    // Note: A "uniform" is a global variable within a shader program.

    let mandelbrot;

    // Load the shader and create a p5.Shader object.
    async function setup() {
      mandelbrot = await loadShader('/assets/shader.vert', '/assets/shader.frag');

      createCanvas(100, 100, WEBGL);

      // Compile and apply the p5.Shader object.
      shader(mandelbrot);

      // Set the shader uniform p to an array.
      mandelbrot.setUniform('p', [-0.74364388703, 0.13182590421]);

      // Set the shader uniform r to the value 1.5.
      mandelbrot.setUniform('r', 1.5);

      // Add a quad as a display surface for the shader.
      quad(-1, -1, 1, -1, 1, 1, -1, 1);

      describe('A black fractal image on a magenta background.');
    }
    </code>
    </div>

    <div>
    <code>
    // Note: A "uniform" is a global variable within a shader program.

    let mandelbrot;

    // Load the shader and create a p5.Shader object.
    async function setup() {
      mandelbrot = await loadShader('/assets/shader.vert', '/assets/shader.frag');

      createCanvas(100, 100, WEBGL);

      // Use the p5.Shader object.
      shader(mandelbrot);

      // Set the shader uniform p to an array.
      mandelbrot.setUniform('p', [-0.74364388703, 0.13182590421]);

      describe('A fractal image zooms in and out of focus.');
    }

    function draw() {
      // Set the shader uniform r to a value that oscillates between 0 and 2.
      mandelbrot.setUniform('r', sin(frameCount * 0.01) + 1);

      // Add a quad as a display surface for the shader.
      quad(-1, -1, 1, -1, 1, 1, -1, 1);
    }
    </code>
    </div>
class: p5
return:
  description: new shader created from the vertex and fragment shader files.
  type: Promise<p5.Shader>
overloads:
  - params:
      - name: vertFilename
        description: path of the vertex shader to be loaded.
        type: String|Request
      - name: fragFilename
        description: path of the fragment shader to be loaded.
        type: String|Request
      - name: successCallback
        description: |-
          function to call once the shader is loaded. Can be passed the
          <a href="#/p5.Shader">p5.Shader</a> object.
        optional: 1
        type: Function
      - name: failureCallback
        description: |-
          function to call if the shader fails to load. Can be passed an
          <code>Error</code> event object.
        optional: 1
        type: Function
    return:
      description: new shader created from the vertex and fragment shader files.
      type: Promise<p5.Shader>
chainable: false
---


# loadShader
