---
title: httpDo
module: IO
submodule: Input
file: src/io/files.js
description: >
  <p>Method for executing an HTTP request. If data type is not specified,

  it will default to <code>'text'</code>.</p>

  <p>This function is meant for more advanced usage of HTTP requests in p5.js.
  It is

  best used when a <code>Request</code>

  object is passed to the <code>path</code> parameter.</p>

  <p>This method is suitable for fetching files up to size of 64MB when "GET" is
  used.</p>
line: 1144
isConstructor: false
itemtype: method
example:
  - |-
    <div>
    <code>
    // Examples use USGS Earthquake API:
    // https://earthquake.usgs.gov/fdsnws/event/1/#methods

    // displays an animation of all USGS earthquakes
    let earthquakes;
    let eqFeatureIndex = 0;

    function setup() {
     createCanvas(100,100);

      let url = 'https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson';

      const req = new Request(url, {
       method: 'GET',
       headers: {authorization: 'Bearer secretKey'}
     });
     // httpDo(path, method, datatype, success, error) 

      httpDo(
        req,
        'GET',
       'json',
        res => {
         earthquakes = res;
        },
       err => {
         console.error('Error loading data:', err);
       }
     );
    }

    function draw() {
      // wait until the data is loaded
      if (!earthquakes || !earthquakes.features[eqFeatureIndex]) {
        return;
      }
      clear();

      let feature = earthquakes.features[eqFeatureIndex];
      let mag = feature.properties.mag;
      let rad = mag / 11 * ((width + height) / 2);
      fill(255, 0, 0, 100);
      ellipse(width / 2 + random(-2, 2), height / 2 + random(-2, 2), rad, rad);

      if (eqFeatureIndex >= earthquakes.features.length) {
        eqFeatureIndex = 0;
      } else {
        eqFeatureIndex += 1;
      }
    }
    </code>
    </div>
class: p5
return:
  description: |-
    A promise that resolves with the data when the operation
    completes successfully or rejects with the error after
    one occurs.
  type: Promise
overloads:
  - params:
      - name: path
        description: name of the file or url to load
        type: String|Request
      - name: method
        description: |-
          either "GET", "POST", "PUT", "DELETE",
          or other HTTP request methods
        optional: 1
        type: String
      - name: datatype
        description: '"json", "jsonp", "xml", or "text"'
        optional: 1
        type: String
      - name: data
        description: param data passed sent with request
        optional: 1
        type: Object
      - name: callback
        description: |-
          function to be executed after
          <a href="#/p5/httpGet">httpGet()</a> completes, data is passed in
          as first argument
        optional: 1
        type: Function
      - name: errorCallback
        description: |-
          function to be executed if
          there is an error, response is passed
          in as first argument
        optional: 1
        type: Function
    return:
      description: |-
        A promise that resolves with the data when the operation
        completes successfully or rejects with the error after
        one occurs.
      type: Promise
  - params:
      - name: path
        description: ''
        type: String|Request
      - name: callback
        description: ''
        optional: 1
        type: Function
      - name: errorCallback
        description: ''
        optional: 1
        type: Function
    return:
      description: ''
      type: Promise
chainable: false
---


# httpDo
