---
title: loadModel
module: Shape
submodule: 3D Models
file: src/webgl/loading.js
description: >
  <p>Loads a 3D model to create a

  <a href="/reference/p5/p5.Geometry">p5.Geometry</a> object.</p>

  <p><code>loadModel()</code> can load 3D models from OBJ and STL files. Once
  the model is

  loaded, it can be displayed with the

  <a href="/reference/p5/model/">model()</a> function, as in
  <code>model(shape)</code>.</p>

  <p>There are three ways to call <code>loadModel()</code> with optional
  parameters to help

  process the model.</p>

  <p>The first parameter, <code>path</code>, is a <code>String</code> with the
  path to the file. Paths

  to local files should be relative, as in
  <code>loadModel('/assets/model.obj')</code>.

  URLs such as <code>'https://example.com/model.obj'</code> may be blocked due
  to browser

  security. The <code>path</code> parameter can also be defined as a
  <code>Request</code>

  object for more advanced usage.

  Note: When loading a <code>.obj</code> file that references materials stored
  in

  <code>.mtl</code> files, p5.js will attempt to load and apply those materials.

  To ensure that the <code>.obj</code> file reads the <code>.mtl</code> file
  correctly include the

  <code>.mtl</code> file alongside it.</p>

  <p>The first way to call <code>loadModel()</code> has three optional
  parameters after the

  file path. The first optional parameter, <code>successCallback</code>, is a
  function

  to call once the model loads. For example,

  <code>loadModel('/assets/model.obj', handleModel)</code> will call the
  <code>handleModel()</code>

  function once the model loads. The second optional parameter,

  <code>failureCallback</code>, is a function to call if the model fails to
  load. For

  example, <code>loadModel('/assets/model.obj', handleModel,
  handleFailure)</code> will

  call the <code>handleFailure()</code> function if an error occurs while
  loading. The

  third optional parameter, <code>fileType</code>, is the model’s file extension
  as a

  string. For example,

  <code>loadModel('/assets/model', handleModel, handleFailure, '.obj')</code>
  will try to

  load the file model as a <code>.obj</code> file.</p>

  <p>The second way to call <code>loadModel()</code> has four optional
  parameters after the

  file path. The first optional parameter is a <code>Boolean</code> value. If
  <code>true</code> is

  passed, as in <code>loadModel('/assets/model.obj', true)</code>, then the
  model will be

  resized to ensure it fits the canvas. The next three parameters are

  <code>successCallback</code>, <code>failureCallback</code>, and
  <code>fileType</code> as described above.</p>

  <p>The third way to call <code>loadModel()</code> has one optional parameter
  after the

  file path. The optional parameter, <code>options</code>, is an
  <code>Object</code> with options,

  as in <code>loadModel('/assets/model.obj', options)</code>. The
  <code>options</code> object can

  have the following properties:</p>

  <pre><code class="language-js">let options = {
    // Enables standardized size scaling during loading if set to true.
    normalize: true,

    // Function to call once the model loads.
    successCallback: handleModel,

    // Function to call if an error occurs while loading.
    failureCallback: handleError,

    // Model's file extension.
    fileType: '.stl',

    // Flips the U texture coordinates of the model.
    flipU: false,

    // Flips the V texture coordinates of the model.
    flipV: false
  };


  // Pass the options object to loadModel().

  loadModel('/assets/model.obj', options);</code></pre><p>This function returns
  a <code>Promise</code> and should be used in an <code>async</code> setup with

  <code>await</code>. See the examples for the usage syntax.</p>

  <p>Note: There’s no support for colored STL files. STL files with color will

  be rendered without color.</p>
line: 341
isConstructor: false
itemtype: method
example:
  - |-
    <div>
    <code>
    // Click and drag the mouse to view the scene from different angles.

    let shape;

    // Load the file and create a p5.Geometry object.
    async function setup() {
      shape = await loadModel('/assets/teapot.obj');

      createCanvas(100, 100, WEBGL);

      describe('A white teapot drawn against a gray background.');
    }

    function draw() {
      background(200);

      // Enable orbiting with the mouse.
      orbitControl();

      // Draw the shape.
      model(shape);
    }
    </code>
    </div>

    <div>
    <code>
    // Click and drag the mouse to view the scene from different angles.

    let shape;

    // Load the file and create a p5.Geometry object.
    // Normalize the geometry's size to fit the canvas.
    async function setup() {
      shape = await loadModel('/assets/teapot.obj', true);

      createCanvas(100, 100, WEBGL);

      describe('A white teapot drawn against a gray background.');
    }

    function draw() {
      background(200);

      // Enable orbiting with the mouse.
      orbitControl();

      // Draw the shape.
      model(shape);
    }
    </code>
    </div>

    <div>
    <code>
    // Click and drag the mouse to view the scene from different angles.

    let shape;

    // Load the file and create a p5.Geometry object.
    async function setup() {
      await loadModel('/assets/teapot.obj', true, handleModel);

      createCanvas(100, 100, WEBGL);

      describe('A white teapot drawn against a gray background.');
    }

    function draw() {
      background(200);

      // Enable orbiting with the mouse.
      orbitControl();

      // Draw the shape.
      model(shape);
    }

    // Set the shape variable and log the geometry's
    // ID to the console.
    function handleModel(data) {
      shape = data;
      console.log(shape.gid);
    }
    </code>
    </div>

    <div class='notest'>
    <code>
    // Click and drag the mouse to view the scene from different angles.

    let shape;

    // Load the file and create a p5.Geometry object.
    async function setup() {
      await loadModel('/assets/teapot.obj', true, handleModel, handleError);

      createCanvas(100, 100, WEBGL);

      describe('A white teapot drawn against a gray background.');
    }

    function draw() {
      background(200);

      // Enable orbiting with the mouse.
      orbitControl();

      // Draw the shape.
      model(shape);
    }

    // Set the shape variable and print the geometry's
    // ID to the console.
    function handleModel(data) {
      shape = data;
      console.log(shape.gid);
    }

    // Print an error message if the file doesn't load.
    function handleError(error) {
      console.error('Oops!', error);
    }
    </code>
    </div>

    <div>
    <code>
    // Click and drag the mouse to view the scene from different angles.

    let shape;

    // Load the file and create a p5.Geometry object.
    async function setup() {
      await loadModel('/assets/teapot.obj', '.obj', true, handleModel, handleError);

      createCanvas(100, 100, WEBGL);

      describe('A white teapot drawn against a gray background.');
    }

    function draw() {
      background(200);

      // Enable orbiting with the mouse.
      orbitControl();

      // Draw the shape.
      model(shape);
    }

    // Set the shape variable and print the geometry's
    // ID to the console.
    function handleModel(data) {
      shape = data;
      console.log(shape.gid);
    }

    // Print an error message if the file doesn't load.
    function handleError(error) {
      console.error('Oops!', error);
    }
    </code>
    </div>

    <div>
    <code>
    // Click and drag the mouse to view the scene from different angles.

    let shape;
    let options = {
      fileType: '.obj',
      normalize: true,
      successCallback: handleModel,
      failureCallback: handleError
    };

    // Load the file and create a p5.Geometry object.
    async function setup() {
      await loadModel('/assets/teapot.obj', options);

      createCanvas(100, 100, WEBGL);

      describe('A white teapot drawn against a gray background.');
    }

    function draw() {
      background(200);

      // Enable orbiting with the mouse.
      orbitControl();

      // Draw the shape.
      model(shape);
    }

    // Set the shape variable and print the geometry's
    // ID to the console.
    function handleModel(data) {
      shape = data;
      console.log(shape.gid);
    }

    // Print an error message if the file doesn't load.
    function handleError(error) {
      console.error('Oops!', error);
    }
    </code>
    </div>
class: p5
return:
  description: the <a href="#/p5.Geometry">p5.Geometry</a> object
  type: Promise<p5.Geometry>
overloads:
  - params:
      - name: path
        description: path of the model to be loaded.
        type: String|Request
      - name: fileType
        description: >-
          model’s file extension. Either <code>'.obj'</code> or
          <code>'.stl'</code>.
        optional: 1
        type: String
      - name: normalize
        description: 'if <code>true</code>, scale the model to fit the canvas.'
        type: Boolean
      - name: successCallback
        description: |-
          function to call once the model is loaded. Will be passed
          the <a href="#/p5.Geometry">p5.Geometry</a> object.
        optional: 1
        type: function(p5.Geometry)
      - name: failureCallback
        description: >-
          function to call if the model fails to load. Will be passed an
          <code>Error</code> event object.
        optional: 1
        type: function(Event)
    return:
      description: the <a href="#/p5.Geometry">p5.Geometry</a> object
      type: Promise<p5.Geometry>
  - params:
      - name: path
        description: ''
        type: String|Request
      - name: fileType
        description: ''
        optional: 1
        type: String
      - name: successCallback
        description: ''
        optional: 1
        type: function(p5.Geometry)
      - name: failureCallback
        description: ''
        optional: 1
        type: function(Event)
    return:
      description: new <a href="#/p5.Geometry">p5.Geometry</a> object.
      type: Promise<p5.Geometry>
  - params:
      - name: path
        description: ''
        type: String|Request
      - name: options
        description: loading options.
        optional: 1
        type: Object
    return:
      description: new <a href="#/p5.Geometry">p5.Geometry</a> object.
      type: Promise<p5.Geometry>
chainable: false
---


# loadModel
