---
title: loadXML
module: IO
submodule: Input
file: src/io/files.js
description: >
  <p>Loads an XML file to create a <a href="/reference/p5/p5.XML">p5.XML</a>
  object.</p>

  <p>Extensible Markup Language

  (<a href="https://developer.mozilla.org/en-US/docs/Web/XML/XML_introduction/"
  target="_blank">XML</a>)

  is a standard format for sending data between applications. Like HTML, the

  XML format is based on tags and attributes, as in

  <code><time units="s">1234</time></code>.</p>

  <p>The first parameter, <code>path</code>, is always a string with the path to
  the file.

  Paths to local files should be relative, as in

  <code>loadXML('/assets/data.xml')</code>. URLs such as
  <code>'https://example.com/data.xml'</code>

  may be blocked due to browser security. The <code>path</code> parameter can
  also be defined

  as a <code>Request</code>

  object for more advanced usage.</p>

  <p>The second parameter, <code>successCallback</code>, is optional. If a
  function is

  passed, as in <code>loadXML('/assets/data.xml', handleData)</code>, then the

  <code>handleData()</code> function will be called once the data loads. The

  <a href="/reference/p5/p5.XML">p5.XML</a> object created from the data will be
  passed

  to <code>handleData()</code> as its only argument. The return value of the
  <code>handleData()</code>

  function will be used as the final return value of
  <code>loadXML('/assets/data.xml', handleData)</code>.</p>

  <p>The third parameter, <code>failureCallback</code>, is also optional. If a
  function is

  passed, as in <code>loadXML('/assets/data.xml', handleData,
  handleFailure)</code>, then

  the <code>handleFailure()</code> function will be called if an error occurs
  while

  loading. The <code>Error</code> object will be passed to
  <code>handleFailure()</code> as its only

  argument. The return value of the <code>handleFailure()</code> function will
  be used as the

  final return value of <code>loadXML('/assets/data.xml', handleData,
  handleFailure)</code>.</p>

  <p>This function returns a <code>Promise</code> and should be used in an
  <code>async</code> setup with

  <code>await</code>. See the examples for the usage syntax.</p>
line: 725
isConstructor: false
itemtype: method
example:
  - |-
    <div>
    <code>
    let myXML;

    // Load the XML and create a p5.XML object.
    async function setup() {
      myXML = await loadXML('/assets/animals.xml');

      createCanvas(100, 100);

      background(200);

      // Get an array with all mammal tags.
      let mammals = myXML.getChildren('mammal');

      // Style the text.
      textAlign(LEFT, CENTER);
      textFont('Courier New');
      textSize(14);

      // Iterate over the mammals array.
      for (let i = 0; i < mammals.length; i += 1) {

        // Calculate the y-coordinate.
        let y = (i + 1) * 25;

        // Get the mammal's common name.
        let name = mammals[i].getContent();

        // Display the mammal's name.
        text(name, 20, y);
      }

      describe(
        'The words "Goat", "Leopard", and "Zebra" written on three separate lines. The text is black on a gray background.'
      );
    }
    </code>
    </div>

    <div>
    <code>
    let lastMammal;

    // Load the XML and create a p5.XML object.
    async function setup() {
      await loadXML('/assets/animals.xml', handleData);

      createCanvas(100, 100);

      background(200);

      // Style the text.
      textAlign(CENTER, CENTER);
      textFont('Courier New');
      textSize(16);

      // Display the content of the last mammal element.
      text(lastMammal, 50, 50);

      describe('The word "Zebra" written in black on a gray background.');
    }

    // Get the content of the last mammal element.
    function handleData(data) {
      // Get an array with all mammal elements.
      let mammals = data.getChildren('mammal');

      // Get the content of the last mammal.
      lastMammal = mammals[mammals.length - 1].getContent();
    }
    </code>
    </div>

    <div>
    <code>
    let lastMammal;

    // Load the XML and preprocess it.
    async function setup() {
      await loadXML('/assets/animals.xml', handleData, handleError);

      createCanvas(100, 100);

      background(200);

      // Style the text.
      textAlign(CENTER, CENTER);
      textFont('Courier New');
      textSize(16);

      // Display the content of the last mammal element.
      text(lastMammal, 50, 50);

      describe('The word "Zebra" written in black on a gray background.');
    }

    // Get the content of the last mammal element.
    function handleData(data) {
      // Get an array with all mammal elements.
      let mammals = data.getChildren('mammal');

      // Get the content of the last mammal.
      lastMammal = mammals[mammals.length - 1].getContent();
    }

    // Log any errors to the console.
    function handleError(error) {
      console.error('Oops!', error);
    }
    </code>
    </div>
class: p5
return:
  description: |-
    XML data loaded into a <a href="#/p5.XML">p5.XML</a>
    object.
  type: Promise<p5.XML>
overloads:
  - params:
      - name: path
        description: path of the XML file to be loaded.
        type: String|Request
      - name: successCallback
        description: |-
          function to call once the data is
          loaded. Will be passed the
          <a href="#/p5.XML">p5.XML</a> object.
        optional: 1
        type: Function
      - name: errorCallback
        description: |-
          function to call if the data fails to
          load. Will be passed an <code>Error</code> event
          object.
        optional: 1
        type: Function
    return:
      description: |-
        XML data loaded into a <a href="#/p5.XML">p5.XML</a>
        object.
      type: Promise<p5.XML>
chainable: false
---


# loadXML
